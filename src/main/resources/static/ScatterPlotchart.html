 <!DOCTYPE html>
<html>
<head>
    <script src="https://code.highcharts.com/10/highcharts.js"></script>
<meta charset="UTF-8">
<title>Insert title here</title>

</head>
<body>
<figure class="highcharts-figure">
  <div id="container"></div>
  <script type="text/javascript">
  async function fetchDataAndCreateChart() {
    try {
        // Fetch data from the API
        const response = await fetch('http://localhost:8182/max-login-users');
        
        // Check if the response is successful
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }

        // Parse the response data to JSON
        const data = await response.json();
        const chartData = data.map(item => [
            item.pdmpUserId, // X-axis value (pdmpUserId)
            item.userCount    // Y-axis value (userCount)
        ]);

        // Create the scatter plot using Highcharts
        Highcharts.chart('container', {
            chart: {
                type: 'scatter', // Set the chart type to scatter
                zoomType: 'xy'   // Allow zooming in both X and Y axes
            },
            title: {
                text: 'Scatter Plot - User Count vs PDMP User ID'
            },
            xAxis: {
                title: {
                    text: 'PDMP User ID'
                },
                min: 0 // Set the minimum value of the X-axis to 0
            },
            yAxis: {
                title: {
                    text: 'User Count'
                }
            },
            series: [{
                name: 'User Data',
                color: 'rgba(223, 83, 83, .5)', // Color for the scatter plot points
                data: chartData // Data for the scatter plot
            }]
        });
    } catch (error) {
        console.error('Error fetching data:', error);
    }
}

// Call the function to fetch data and create the chart
fetchDataAndCreateChart();
  </script>

</body>
</html> 







